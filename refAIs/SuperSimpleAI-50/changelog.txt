CHANGELOG

This AI is a fork from SimpleAI v12. see changelog-SimpleAIv12.txt. For this reason, first version of this AI is 13.
Another AIs and libs that contribute to this AI are WormAI, DictatorialAI, SuperLib. Thank you so much!

v13:
	Don't remove unprofitable trains (I don't like how it works).
	Longer trains, stations and passing lanes up to 7 tiles (configurable).
	Single destination stations.
	More than 2 trains per route.
	Allow train routes up to 200 tiles.
	Better passing lanes without unnecessary signals.

v14:
	Allow 1, 3, 4 and 5 passing lanes.
	Allow long train routes, up to 910 tiles (configurable).

v15:
	New BuildPassingLanes function.
	Allow up to 15 passing lanes (configurable).
	Allow long road routes, up to 230 tiles (configurable).
	Allow long train routes, up to 1640 tiles (configurable).
	Allow long aircraft routes, up to 1640 tiles (configurable).
	Disallow new/close industries logging.
	Allow to add more trains on a route, then new routes are started with only one train.
	Disallow large bridges and tunnels if we don't have more than 250k (inflated).
	Wait if we need money to finish a rail/road route.
	Check routes and events while pathfinding.
	Don't send to depot fully loaded trains.
	Don't reverse trains to find a depot.
	Don't send to depot more than one vehicle if we can't paid it.
	Restart unfinished routes when load a saved game, if it is posible.
	Build statue if we have some money.
	Prevent to add new train if empty train is waiting for cargo.
	Forbid non-flat passing lanes (configurable).
	Set name to stations.
	Better aircraft manager.
	Now works well if forbid_90_deg game setting is set to true.

v16:
	Check if we can build all stations and passing lanes before build it.
	Length of trains now depends of industry production.
	Better passing lanes.
	Updated max lenght of aircfraft and rail routes.

v17:
	Created new topic on TTD-Forums: https://www.tt-forums.net/viewtopic.php?f=65&t=88300
	Prevent crash when GetLastMonthTransportedPercentage() runs while month change. (Fixed in SimpleAI v13)
	Diagonal passing lanes.
	Better order flags.
	Bridges and tunnels on passing lanes.
	Build rail stations as closest as possible to industry (configurable).
	Permit 15 tiles long trains.
	Allow double and triple traction.
	Allow long train routes, up to 1920 tiles (configurable).

v18:
	Don't destroy active routes when demolish join stations (SimpleAIbug).
	Don't crash when load game with builded but not finished route (bug).
	Safer GetRailStationPlatformLength() function.

v19:
	Disallow diagonal passing lanes when signals aren't PBS.
	Better diagonal passing lanes.
	Better passing lanes ubication.
	Less railtrash when aborting passing lane building.
	Capped the maximum amount of routes at 1000 to prevent "Took too long to save" errors. (Fixed in SimpleAI v13).
	More fault tolerance when building road stations: the AI now should not leave C-shaped road pieces when failing to build a road station (Fixed in SimpleAI v14)
	Fixed running cost calculation in the train engine valuator (fix by SirkoZ in SimpleAI v14).

v20:
	Disallow tunnels and bridges on passinglanes if this AI is configured in Old Style (TTO, TTD, SimpleAI).
	Allow reverse trains only if not using PBS.
	Replace non-empty trains to depot if they are 80 years old.
	Replace non-empty road vehicles to depot if they are 40 years old.
	Check if the heads of stations and passing lanes needs a bridge or tunnel, and if they can be build.
	Build mandatory rails on stations and passing lanes heads.
	Added better estimation tunnel cost with inflation.
	Limit the minium length of cargo trains (configurable).
	Fixed bad max distance for road routes and update it to 280 tiles.
	Allow four engines in multiple traction.
	Estimate inflated cost of a bridge head when they aren't on flat/well sloped tile.
	Check if possible to build the destination road station before build the source road station.
	Abort building rail route if source or destination industries closes.
	Fixed problems with passinglanes and Sygnal Type == 3.
	Build road stations as closest as possible to industry (configurable).
	Build statue if we have some money, now configurable.
	Don't build unnecessary temporaly depots to avoid 90 grade turns.
	Limit the number of vehicles than a short road route can has.
	Sell all trains and remove a rail route if source or destination industry closes.
	Sell all road vehicles and close a road route if source or destination industry closes.
	More checks before build road stations.
	Fixed incorrect cost calculation of some bridges and wrong type of bridge.
	Fixed wrong number of airplanes per route.

v21:
	Fixed renaming used airports when build new route.
	Optimistic GetInflationRate() function.
	Use international and intercontinental airports and more agressive air model (configurable).
	Better detection of industry closures.
	Don't build a piece of track in "rail heads" if we can build a tunnel.
	Fixed building mail rail routes when vehicles are unavailable.
	More configurable options in settings.nut file.

v22:
	Fixed closing mail routes if the station isn't close to town center.
	Fixed incorrect calculation of distance in cargo rail routes.
	Add road vehicles to a route faster.
	Tries to reuse source airport with another existing airport if can't build destination airport.
	Replaces small airports when reach their capacity with greater ones.
	Forbid duplicate passenger routes, with no difference if they are road, rail or air.

v23:
	Posible bugfix: restore previous rail type on UpgradeRailBridges() and AttachMoreWagons() functions.
	Fixed crash after finish unfinished route when load a game with debug set to true.
	Removed debug setting from info.nut and added SuperSimpleAI, cManager and cBuilder debug settings. (commented)
	Fixed ingame setting to "build_statue" setting.
	All settings in info.nut file are now optional, the default values are in settings.nut file.
	Prevent infinite recursion loops in CheckRailHead() function.

v24:
	New semidiagonal passing lanes (all railbuilder-passinglanes.nut code was rewrited).
	Taken RailPathFinder library from WormAI, who was inspired by AdmiralAI to modify original library.

v25:
	Build destination road stations without depot (configurable via settings.nut file).
	Discarting RailPathFinder library from WormAI, but taken some ideas extending standard library.
	Build local bus routes into a town (better code is needed, configurable).

v26:
	Small bugfix with subsidied passenger routes.
	Bugfix: Remove destination station if building source station was interrupted.
	Another small bugfix with semi-diagonal passing lanes.
	More mail wagons in passenger trains.
	Upgrade road and rail bridges only if vehicles are faster than bridges.
	Allow dual cargo train routes (for example, grain and livestock trains).
	Allow dual destination routes with dual cargo.
	Lengthening short trains only if source and destination stations are larger.
	Permit up to 16 tiles long cargo trains.
	Permit up to 6 tiles long passenger trains.

v27:
	Clean remove of passing stations.
	Configurable elictrifying lines.
	Allow more station allocation.

v28:
	Fixed crash with double cargo, when destination is a town.
	Fixed crash when terraforming at same place that this AI try to build a passinglane with tunnels or bridges.
	Better station allocation.
	More passing lane options.
	Better economics at start of the game.
	Better rail tunnel cost estimation.
	Better pathfinder: Penalty for tile heights over max height or under min height (some functions come from SuperLib, write by Leif Linse).

v29:
	Fixed bottom to bottom stations bug.
	More pathfinder: try to build cheaper at begining of the game, more direct routes if we have more income.
	Replaced SimpleAI readme.txt by newer one about SuperSimpleAI (ufff).
	Better passing lanes location.
	Faster passing lane building.
	Faster track building where building rail between stations and passing lanes.
	Add more engines when freight_trains from Game Settings is greater than 1.

v30:
	Fixed crash with engineblacklist when reloading game.
	Fixed crash in myairoad.GetRoadCost.

v31:
	Fixed crash when loading game and rail building was interrumped.
	Fixed removing route after load game, if a vehicle was blacklisted or WaitForMoney timed out.
	Max number of engines are increased to 5, and better power estimation.

v32:
	Fixed cManager.CheckRoutes() malfunction when try to replace old passenger trains.
	Fixed strange changes of rail type while building a route.
	Fixed cBuilder.WaitForMoney() malfunction when needed money is bigger than maximum loan.
	Better power estimation of train engines.
	Better cash management.
	Safer replacing trains: Sell old train only if we can build new one before (building train can fail because new engines that are not blacklisted). 
	Permit up to 20 tiles long freight trains.
	Remove bridge from bridgeslist when this bridge is removed manualy.
	Some changes in default configuration.
	Better engine blacklist management.

v33:
	Fixed failing search of passengers engines in cBuilder.ChooseTrainEngine() function with some sets.
	Fixed malfunction in cBuilder.UpgradeRailBridges() and cBuilder.UpgradeRoadBridges() when other players creates their own groups.
	Better engine blacklist management when loaded game has unfinished rail route.
	More mail wagons in large passenger trains.

v34:
	Fixed crash (since v33) in SuperSimpleAI.RestartUnfinishedRoute() function.
	Readded type of rail lines in normal settings profile, in info.nut file.
	
v35:
	More options when building passinglanes under bridges.
	Adjust the number of wagons in dual cargo routes, when cargo production are not equal.
	Permit up to 24 tiles long freight trains.
	Better power estimation of train engines and up to 8 engines per train.
	Allow double platform stations at large passenger routes (experimental, disabled).
	Increased pathfinder itinerations to 300.
	Slowdown effect doesn't stop building when date is changed to the past.
	Manager.CheckRoutes don't use more than 20% of time. So not slowdown effect because checking routes too often.
	More tests before build road or rail stations.

v36:
	Fixed airbuilder missing functions (introduced in v35).

v37:
	Fixed crash in settings.nut (introduced in v35).
	Fixed crash produced while retrying building rail and last valid tile was a bridge.

v38:
	Fixed crash because number of parameters of AIGroup.CreateGroup(), in older OpenTTD this function only need one parameter, but latest version requires two parameters.
	Show the OpenTTD version at start of SuperSimpleAI.

v39:
	Re-fixed last crash, because in some OpenTTD versions last fix does not work.

v40:
	Removed MyAIGroup.CreateGroup() function because crashes were produced (in my case) because my libraries were broken.
	Adding closeing unprofitable road and rail routes (experimental, disabled by default).
	Fixed using trains when local buses are allowed but no road vehicles are available.
	Setting the group name with the new name of the station, if they were renamed.

v41:
	Bigger road stations.
	Safer removing road depot when removing a road station, if the depot is not at same direction than station has then they don't be removed.

v42:
	Fixed error building passinglanes over my tracks.
	Don't build airports if no suitable planes are available.
	Fixed changing the name of stations and airports when company's name is too long.
	Fixed building passenger rail routes when they are disallowed by AI settings.
	Prevent to use cars with non-zero cost and less than 5 passenger of capacity.
	Fixed (un)recovery rail route after load game, because the engine was blacklisted or was waiting for money for long time.
	Don't use elictrified rails at starting stages (it's too expensive!).
	Wait for money before demolish a tunnel, bridge, station or depot, with this less rail/road trash are produced in negative bank balance situations.

v43:
	Fixed crash loading game, if engine was blacklisted.
	Fixed crash if try to replace after loading game.
	Cache for compatibility between engines and wagons.
	Faster and cheaper road building.

v44:
	Fixed corruption of saved data. This bug was introduced in v43.
	Changed the limit of maximum routes to 2400.
	Added some cache to manager.

v45:
	Fixed error with replacing trains, introduced in v44.
	Fixed railtype error when restarting unfinished rail route.
	Fixed crash with missing SetAirportThisName function, lost in v42.
	Some changes in Load and Save functions.

v46:
	Fixed crash in MyAIVehicle::MailWagonWorkaround() function when one parameter is null.
	Don't try to build mail wagons if mail cargo is not available.
	Use "ai_disable_veh_aircraft", "ai_disable_veh_train" and "ai_disable_veh_roadveh" from Game Settings.

v47:
	Fixed crash in save function when building a road route.

v48:
	Fixed malfunction in train engine cache.
	Fixed some trash (isolated depots) when building a rail route and source or destination industry closes.
	Rail stations that accepts or provides two cargos looks for the two cargos (using NewGRF, of course).
	Faster railbuilding, using fake passing lanes (like checkpoints) between passing lanes. This changes how passenger rail routes are made.
	Save data when replacing small airport by big one.
	Station tile now is far as possible from the other station. This improves incoming, especially in short routes with long trains.

v49:
	Fixed crash when removing road stations at loading game stage.

v50:
	Link two industries to destination rail station, if it is possible (of course, with dual cargo routes).
	Better and faster placing stations and passing lane functions.
	Fixed bad direction of passing lanes in two destination rail lines.
	Don't send dual cargo trains to depot (because are too old, or to attach more wagons) if isn't empty.
